<script>
document.addEventListener('DOMContentLoaded', function () {
    const params = new URLSearchParams(window.location.search);
    const imdbId = params.get("imdb_id");

    if (!imdbId) {
        document.getElementById('playerContainer').innerHTML = "<p>Invalid IMDb ID</p>";
        return;
    }

    document.getElementById("loading-container").style.display = "block";

    const iframe = document.createElement("iframe");
    iframe.src = `https://vidsrc.to/embed/movie/${imdbId}`;
    iframe.width = "100%";
    iframe.height = "600px";
    iframe.allowFullscreen = true;
    iframe.frameBorder = "0";
    iframe.allow = "accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture";
    iframe.style.borderRadius = "8px";
    iframe.style.boxShadow = "0 4px 20px rgba(0,0,0,0.3)";
    iframe.onload = () => {
        document.getElementById("loading-container").style.display = "none";
    };

    document.getElementById("playerContainer").appendChild(iframe);
});
</script>
